{% extends "base.html" %}
{% block css %}
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.10/css/jquery.dataTables.css">
<style type="text/css">
	td.details-control {
    background: url('../img/details_open.png') no-repeat center center;
    cursor: pointer;
}
tr.shown td.details-control {
    background: url('../img/details_close.png') no-repeat center center;
}
</style>
{% endblock css%}
{% block menu %}
	{% include "navbar.html" %}
{% endblock menu %}
{% block content %}
	<div class="panel panel-default">
		<div class="panel-heading">Informasi Proyek</div>
		<div class="panel-body">
			<div class="row">
				<div class="col-md-12">Nomor Proyek : {{ data_proyek.nomor_proyek }}</div>
				<div class="col-md-12">Nama Proyek : {{ data_proyek.nama_proyek }}</div>
				<div class="col-md-12">Tanggal Mulai Proyek : {{ data_proyek.timestamp|date:"j M Y" }}</div>
			</div>
		</div>
	</div>

	<div class="col-sm-12">
			<div class="row"> 
				<ul class="nav nav-tabs">
					<li role="presentation" class="active"><a href="#">AHS</a></li>
					<li role="presentation"><a href="#">RAP</a></li>
					<li role="presentation"><a href="#">Laporan</a></li>
				</ul>
			</div>
		</div>
	<div class="row">
		<div class="col-sm-12 pull-left">
			<h3>AHS (Analisis Harga Satuan)</h3>
		</div>
		<div class="col-sm-12 pull-right"><button type="button" id="add_ahs" class="btn btn-primary btn-sm pull-right">Add AHS</button></div>
	
		<div class="col-sm-12">
		<br>
		 <br>
		<table id="ahs_table" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>No</th>
                <th>AHS</th>
                <th>Nama AHS</th>
                <th>Jenis Element</th>
                <th>Kode Element</th>
                <th>Nama Element</th>
                <th>Uraian</th>
                <th>Harga Satuan</th>
                <th>Koefisien</th>
                <th>Satuan</th>
                <th>Harga</th>
                <th>Action</th>
            </tr>
        </thead>
       <!-- <tfoot>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Age</th>
                <th>Start date</th>
                <th>Salary</th>
            </tr>
        </tfoot> -->
        <tbody>
            
		{% for obj in data_ahs %}

			{% for data_ahs in detail_ahs_query %}
				
			{% endfor %}
			<tr class="clickable" data-toggle="collapse" id="row{{ obj.id }}" data-target=".row{{ obj.id }}">
            <!--<td><i class="glyphicon glyphicon-plus"></i></td>-->
            <td></td>
       		<td>{{ obj.nomor_ahs }}</td>
		    <td>{{ obj.nama_ahs }}</td>
		    <td></td>
		    <td><select id="company" class="form-control">
		      <option>{{ obj.kode_element }}</option>
		      <option>medium</option>
		      <option>large</option>
		    </select> 
			</td>
		    <td></td>
		    <td></td>
		    <td></td>
		    <td></td>
		    <td>{{ obj.satuan_ahs }}</td>
		    <td>{{ obj.harga_satuan }}</td>
		    <td></td>
        </tr>
      <!--  <tr class="collapse row{{ obj.id }}">
            <td></td>
            <td></td>
          	<td></td>  
            <td>{{ obj.satuan_element }}</td>
            <td><select id="company" class="form-control">
			      <option>{{ obj.kode_element }}</option>
			      <option>medium</option>
			      <option>large</option>
			    </select> 
			</td>
            <td>{{ obj.nama_element }}</td>
            <td>{{ obj.uraian_element }}</td>
            <td>{{ obj.satuan_element }}</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>-->
        
        {% endfor %}
      
        </tbody>
    </table>
		
		</div>
	</div>

{% endblock content %}

{% block js %}
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.10/js/jquery.dataTables.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
		$('#ahs_table').DataTable( {
		    responsive: {
		        details: {
		            type: 'column',
		            target: 'tr'
		        }
		    },
		    columnDefs: [ {
		        className: 'control',
		        orderable: false,
		        targets:   0
		    } ],
		    order: [ 1, 'asc' ]
		} );
		} );

		$('#add_ahs').click(function() {
        	$('#ahs_table tr:last').after('<tr class="child"><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td><td><\/td></tr>');
   		 });
	</script>
{% endblock js %}